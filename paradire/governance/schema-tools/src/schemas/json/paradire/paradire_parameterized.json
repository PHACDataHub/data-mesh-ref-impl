{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "id": "https://github.com/PHACDataHub/data-mesh-ref-impl/paradire/federal/0.1",
  "description": "Federal paradire PoC data model",
  "discriminator": {
    "propertyName": "resourceType",
    "mapping": {
      "fas_1": "#/definitions/fas_1",
      "fas_2": "#/definitions/fas_2",
      "fas_3": "#/definitions/fas_3",
      "fas_4": "#/definitions/fas_4",
      "fas_5": "#/definitions/fas_5",
      "fas_6": "#/definitions/fas_6",
      "fas_7": "#/definitions/fas_7",
      "fas_8": "#/definitions/fas_8",
      "fas_9": "#/definitions/fas_9"
    }
  },
  "entrypoints": {
    "fas_1": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_1"
      },
      "arguments": "#/definitions/far_1"
    },
    "fas_2": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_2"
      },
      "arguments": "#/definitions/far_2"
    },
    "fas_3": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_3"
      },
      "arguments": "#/definitions/far_3"
    },
    "fas_4": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_4"
      },
      "arguments": "#/definitions/far_4"
    },
    "fas_5": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_5"
      },
      "arguments": "#/definitions/far_5"
    },
    "fas_6": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_6"
      },
      "arguments": "#/definitions/far_6"
    },
    "fas_7": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_7"
      },
      "arguments": "#/definitions/far_7"
    },
    "fas_8": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_8"
      },
      "arguments": "#/definitions/far_8"
    },
    "fas_9": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/fas_9"
      },
      "arguments": "#/definitions/far_9"
    }
  },
  "definitions": {
    "far_1": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request"
        },
        "covid_cvx_list": {
          "type": "string",
          "description": "List of COVID CVX codes (comma-separated), i.e 207,208."
        },
        "start_date": {
          "type": "string",
          "description": "Date (YYYY-MM-DD) as string."
        },
        "end_date": {
          "type": "string",
          "description": "Date (YYYY-MM-DD) as string."
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced"
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "covid_cvx_list",
        "start_date",
        "end_date",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_1": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "start_date": {
          "type": "string",
          "description": "Date (YYYY-MM-DD) as string."
        },
        "end_date": {
          "type": "string",
          "description": "Date (YYYY-MM-DD) as string."
        },
        "patient_zip": {
          "type": "string",
          "description": "Reduced zip code (first three characters)."
        },
        "patient_count": {
          "type": "number",
          "description": "The total number of vaccinated patients, with in the zipcode"
        },
        "patient_status": {
          "type": "string",
          "description": "The status of patient: Unvaccinated (0 doses), One-dosed, or Fully vaccinated (2 doses)."
        },
        "status_count": {
          "type": "number",
          "description": "The total number of vaccinated patients, for single status type, with in the zipcode"
        },
        "status_percent": {
          "type": "number",
          "description": "status_count/patient_count * 100% with two digits after decimal point, i.e. 64.35"
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "start_date",
        "end_date",
        "patient_zip",
        "patient_count",
        "patient_status",
        "status_count",
        "status_percent",
        "timestamp"
      ]
    },
    "far_2": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request"
        },
        "cvx_maps": {
          "type": "string",
          "description": "Map of CVX-to-limit (in months)."
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced"
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "cvx_maps",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_2": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "patient_zip": {
          "type": "string",
          "description": "Reduced zip code (first three characters)."
        },
        "patient_count": {
          "type": "number",
          "description": "The total number of vaccinated patients, with in the zipcode"
        },
        "missing_doses": {
          "type": "string",
          "description": "The missing doses"
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "patient_zip",
        "patient_count",
        "missing_doses",
        "timestamp"
      ]
    },
    "far_3": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request"
        },
        "cvx_list": {
          "type": "string",
          "description": "List of CVX codes (comma-separated), i.e 207,208"
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced"
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "cvx_list",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_3": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "patient_zip": {
          "type": "string",
          "description": "Reduced zip code (first three characters) of patients"
        },
        "organization_name": {
          "type": "string",
          "description": "Name of the organization which provides vaccination"
        },
        "average_distance": {
          "type": "number",
          "description": "Average travel distance in kilometres."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "patient_zip",
        "organization_name",
        "average_distance",
        "timestamp"
      ]
    },
    "far_4": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request"
        },
        "cvx_list": {
          "type": "string",
          "description": "List of CVX codes (comma-separated), i.e 207,208"
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced"
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "cvx_list",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_4": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "patient_zip": {
          "type": "string",
          "description": "Reduced zip code (first three characters) of patients"
        },
        "organization_name": {
          "type": "string",
          "description": "Name of the organization which provides vaccination"
        },
        "vaccination_count": {
          "type": "number",
          "description": "The number of vaccinations."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "patient_zip",
        "organization_name",
        "vaccination_count",
        "timestamp"
      ]
    },
    "far_5": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_5": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "immunization_date": {
          "type": "string",
          "description": "The date and time the imaging study was conducted - Date (yyyy-MM-dd'T'HH:mm'Z')"
        },
        "immunization_code": {
          "type": "string",
          "description": "Immunization code from CVX"
        },
        "immunization_description": {
          "type": "string",
          "description": "Description of the immunization"
        },
        "organization_name": {
          "type": "string",
          "description": "Name of the Organization."
        },
        "organization_zip": {
          "type": [
            "null",
            "string"
          ],
          "default": null,
          "description": "Street address zip or postal code"
        },
        "encounter_class": {
          "type": "string",
          "description": "Code from SNOMED-CT"
        },
        "encounter_code": {
          "type": "string",
          "description": "Code from SNOMED-CT"
        },
        "encounter_description": {
          "type": "string",
          "description": "Description of the encounter"
        },
        "patient_id": {
          "type": "string",
          "description": "Primary Key. Unique Identifier of the patient - UUID"
        },
        "patient_address": {
          "type": "string",
          "description": "Patient's street address without commas or newlines"
        },
        "patient_birth_date": {
          "type": "string",
          "description": "The birth date of the Patient"
        },
        "patient_alive": {
          "type": "boolean",
          "description": "If the patient is alive"
        },
        "patient_zip": {
          "type": "string",
          "description": "Patient's zip code"
        },
        "patient_gender": {
          "type": "string",
          "description": "Gender. M is male, F is female"
        },
        "patient_race": {
          "type": "string",
          "description": "Description of the patient's primary race"
        },
        "patient_ethnicity": {
          "type": "string",
          "description": "Description of the patient's primary ethnicity"
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "immunization_date",
        "immunization_code",
        "immunization_description",
        "organization_name",
        "organization_zip",
        "encounter_class",
        "encounter_code",
        "encounter_description",
        "patient_id",
        "patient_address",
        "patient_birth_date",
        "patient_alive",
        "patient_zip",
        "patient_gender",
        "patient_race",
        "patient_ethnicity",
        "timestamp"
      ]
    },
    "far_6": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request"
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced"
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_6": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "condition_description": {
          "type": "string",
          "description": "Description as in condition.description"
        },
        "condition_count": {
          "type": "number",
          "description": "Number of conditions with description"
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "condition_description",
        "condition_count",
        "timestamp"
      ]
    },
    "far_7": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request"
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced"
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_7": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "medication_reason_description": {
          "type": "string",
          "description": "Description as in medication.reason_description"
        },
        "medication_reason_count": {
          "type": "number",
          "description": "Number of medication reasons with description"
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "medication_reason_description",
        "medication_reason_count",
        "timestamp"
      ]
    },
    "far_8": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request"
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced"
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_8": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "procedure_description": {
          "type": "string",
          "description": "Description as in procedure.description"
        },
        "procedure_count": {
          "type": "number",
          "description": "Number of procedures with description"
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "procedure_description",
        "procedure_count",
        "timestamp"
      ]
    },
    "far_9": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request"
        },
        "cvx_maps": {
          "type": "string",
          "description": "Map of CVX-to-limit (in months)."
        },
        "pt_list": {
          "type": "string",
          "description": "List of PTs (comma-separated), where this request is sent, i.e BC,ON,QC."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced"
        },
        "doc": {
          "type": "string",
          "description": "Description of this request"
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "cvx_maps",
        "pt_list",
        "timestamp",
        "doc"
      ]
    },
    "fas_9": {
      "properties": {
        "request_id": {
          "type": "string",
          "description": "Unique ID of a Fererated Analytics Request."
        },
        "pt": {
          "type": "string",
          "description": "PT, where this response from, i.e. BC"
        },
        "patient_zip": {
          "type": "string",
          "description": "Reduced zip code (first three characters)."
        },
        "patient_count": {
          "type": "number",
          "description": "The total number of vaccinated patients, with in the zipcode"
        },
        "missing_doses": {
          "type": "string",
          "description": "The missing doses"
        },
        "organization_list": {
          "type": "string",
          "description": "List of organizations, visited by patients, administring such missing doses."
        },
        "timestamp": {
          "type": "number",
          "description": "Timestamp when this record is produced."
        }
      },
      "additionalProperties": false,
      "required": [
        "request_id",
        "pt",
        "patient_zip",
        "patient_count",
        "missing_doses",
        "organization_list",
        "timestamp"
      ]
    }
  }
}